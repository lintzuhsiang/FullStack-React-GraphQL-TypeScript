var e=require("react"),n=require("react-ssr-prepass"),t=require("urql");function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=r(n);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var u,o=null;function l(){o=null}function c(e,n){var r="undefined"==typeof window;return!r&&o||((o=t.createClient(a({},e,{suspense:n&&(r||e.suspense)}))).toJSON=function(){return null}),o}exports.initUrqlClient=c,exports.withUrqlClient=function(n,r){return r||(r={}),function(o){var s=Boolean((o.getInitialProps||r.ssr)&&!r.neverSuspend),p=function(r){var i=r.pageProps,p=r.urqlClient,f=r.urqlState,h=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}(r,["pageProps","urqlClient","urqlState"]),v=e.useReducer((function(e){return e+1}),0),d=v[0],g=v[1],q=i&&i.urqlState||f,x=e.useMemo((function(){if(p&&!d)return p;u&&"undefined"!=typeof window?d||u.restoreData(q):u=t.ssrExchange({initialState:q,isClient:!0});var e=n(u);return e.exchanges||(e.exchanges=[t.dedupExchange,t.cacheExchange,u,t.fetchExchange]),c(e,s)}),[p,q,d]),C=e.useCallback((function(){l(),u=t.ssrExchange({initialState:void 0}),g()}),[]);return e.createElement(t.Provider,{value:x},e.createElement(o,a({},h,{pageProps:i,urqlClient:x,resetUrqlClient:C})))};return p.displayName="withUrqlClient("+(o.displayName||o.name||"Component")+")",(o.getInitialProps||r.ssr)&&(p.getInitialProps=function(u){try{function l(){function n(){return a({},g,{urqlState:h?h.extractData():void 0,urqlClient:d})}if("undefined"!=typeof window)return a({},g,{urqlClient:d});var t=a({},g,{urqlClient:d}),u=p?t:{pageProps:t};const o=function(){if(!r.neverSuspend)return Promise.resolve(i(e.createElement(s,u))).then((function(){}))}();return o&&o.then?o.then(n):n()}var s=u.AppTree,p=!!u.Component,f=p?u.ctx:u,h=t.ssrExchange({initialState:void 0}),v=n(h,f);v.exchanges||(v.exchanges=[t.dedupExchange,t.cacheExchange,h,t.fetchExchange]);var d=c(v,!r.neverSuspend);d&&(f.urqlClient=d);var g={};const q=function(){if(o.getInitialProps)return Promise.resolve(o.getInitialProps(u)).then((function(e){g=e}))}();return Promise.resolve(q&&q.then?q.then(l):l())}catch(e){return Promise.reject(e)}}),p}};
//# sourceMappingURL=next-urql.min.js.map
