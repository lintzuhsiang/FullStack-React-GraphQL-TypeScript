var e=require("@urql/core"),r=require("wonka"),t=require("./1cc90026.min.js"),n=require("graphql");function i(e){return e.name.value}function a(e){return e.typeCondition.name.value}function o(e){return e.alias?e.alias.value:i(e)}function u(e){return e.selectionSet?e.selectionSet.selections:[]}function s(e){return e.typeCondition?i(e.typeCondition):null}function f(e){return e.kind===n.Kind.FIELD}function l(e){return e.kind===n.Kind.INLINE_FRAGMENT}function c(e,r){var t={},a=0;if(e.arguments&&e.arguments.length)for(var o=0,u=e.arguments.length;o<u;o++){var s=e.arguments[o],f=n.valueFromASTUntyped(s.value,r);null!=f&&(t[i(s)]=f,a++)}return a>0?t:null}function p(e,r){if(r&&e.variableDefinitions){for(var t={},n=0,a=e.variableDefinitions.length;n<a;n++){var o=i(e.variableDefinitions[n].variable);t[o]=r[o]}return t}}function d(e,r){var t={};if(!r)return t;if(e.variableDefinitions)for(var a=0,o=e.variableDefinitions.length;a<o;a++){var u=e.variableDefinitions[a],s=i(u.variable);t[s]=void 0===r[s]&&u.defaultValue?n.valueFromASTUntyped(u.defaultValue,r):r[s]}for(var f in r)f in t||(t[f]=r[f]);return t}function v(e,r,t){if(!e){var n=new Error((r||"Minfied Error #"+t+"\n")+"\nhttps://bit.ly/2XbVrpR#"+t);throw n.name="Graphcache Error",n}}function y(e){for(var r=0;r<e.definitions.length;r++)if(e.definitions[r].kind===n.Kind.OPERATION_DEFINITION)return e.definitions[r];v(!1,"",1)}function m(e){for(var r={},t=0;t<e.definitions.length;t++){var a=e.definitions[t];a.kind===n.Kind.FRAGMENT_DEFINITION&&(r[i(a)]=a)}return r}function h(e,r){var t=e.directives;if(!t)return!0;for(var a=0,o=t.length;a<o;a++){var u=t[a],s=i(u);if(("include"===s||"skip"===s)&&u.arguments&&u.arguments[0]&&"if"===i(u.arguments[0])){var f=n.valueFromASTUntyped(u.arguments[0].value,r);return"include"===s?!!f:!f}}return!0}new Set;var k=/^__/;function g(e,r,t){var n=b(e,r,t);return!!n&&"NON_NULL"!==n.type.kind}function _(e,r,t){var n=b(e,r,t);if(!n)return!1;var i="NON_NULL"===n.type.kind?n.type.ofType:n.type;return"LIST"===i.kind&&"NON_NULL"!==i.ofType.kind}function O(e,r,t){if(!t)return!1;var n=s(r);return!n||t===n||(e.types[n]&&"OBJECT"===e.types[n].kind?n===t:(function(e,r){v(e.types[r]&&("INTERFACE"===e.types[r].kind||"UNION"===e.types[r].kind),"",5)}(e,n),q(e,t),e.isSubType(n,t)))}function b(e,r,t){if(!k.test(r)&&!k.test(t))return q(e,r),e.types[r].fields[t]}function q(e,r){v(e.types[r]&&"OBJECT"===e.types[r].kind,"",3)}function w(r,t){return t?r+"("+e.stringifyVariables(t)+")":r}function E(e,r){return e+"."+r}function N(e){var r=e.indexOf("(");return r>-1?{fieldKey:e,fieldName:e.slice(0,r),arguments:JSON.parse(e.slice(r+1,-1))}:{fieldKey:e,fieldName:e,arguments:null}}function x(e){var r=e.indexOf(".");return{entityKey:e.slice(0,r).replace(/%2e/g,"."),fieldKey:e.slice(r+1)}}function K(){return Object.create(null)}var A=null,S=null,T=null,M=null,F=!1;function L(){return{optimistic:K(),base:new Map}}function D(e,r,t,n){A=e,S=r,T=K(),F=!!n,t?n||r.optimisticOrder.length>0?(n||r.commutativeKeys.has(t)?n&&r.commutativeKeys.delete(t):Y(r,t),M=t,function(e,r){-1===e.optimisticOrder.indexOf(r)&&e.optimisticOrder.unshift(r),e.refLock[r]||(e.refLock[r]=K(),e.links.optimistic[r]=new Map,e.records.optimistic[r]=new Map)}(r,t)):(M=null,$(r,t)):M=null}function I(){var r=S,t=M;if(F=!1,M=null,t&&r.optimisticOrder.indexOf(t)>-1)for(var n=r.optimisticOrder.length;--n>=0&&r.refLock[r.optimisticOrder[n]]&&r.commutativeKeys.has(r.optimisticOrder[n]);)ee(r.optimisticOrder[n]);A=null,S=null,T=null,r.defer||(r.defer=!0,Promise.resolve().then((function(){D("read",r,null),S.gc.forEach((function(e,r,t){if((S.refCount[e]||0)>0)t.delete(e);else{for(var n in S.refLock){var i=S.refLock[n];if((i[e]||0)>0)return;delete i[e]}delete S.refCount[e],t.delete(e),S.records.base.delete(e);var a=S.links.base.get(e);if(a)for(var o in S.links.base.delete(e),a)J(t,S.refCount,a[o],-1)}})),function(){if(S.storage){F=!0,A="read";var r=K();S.persist.forEach((function(t){var n,i=x(t),a=i.entityKey,o=i.fieldKey;r[t]=void 0!==(n=X(a,o))?":"+e.stringifyVariables(n):void 0!==(n=z(a,o))?e.stringifyVariables(n):void 0})),F=!1,S.storage.writeData(r),S.persist.clear()}}(),I(),r.defer=!1})))}function C(e,r,t){D("read",e,r,t),I()}function P(){return v(null!==T,"",2),T}function R(e,r,t,n){var i=M?e.optimistic[M]:e.base,a=i.get(r);void 0===a&&i.set(r,a=K()),void 0!==n||M?a[t]=n:delete a[t]}function j(e,r,t){for(var n,i=!F&&"read"===A&&M&&S.commutativeKeys.has(M),a=0,o=S.optimisticOrder.length;a<o;a++){var u=S.optimisticOrder[a],s=e.optimistic[u];if(i=i&&u!==M,s&&(!i||!S.commutativeKeys.has(u))&&(!F||"write"===A||S.commutativeKeys.has(u))&&void 0!==(n=s.get(r))&&t in n)return n[t]}return void 0!==(n=e.base.get(r))?n[t]:void 0}function U(e,r,t,n){var i=void 0!==r[t]?r[t]:0,a=r[t]=i+n|0;void 0!==e&&(a<=0?e.add(t):i<=0&&a>0&&e.delete(t))}function J(e,r,t,n){if("string"==typeof t)U(e,r,t,n);else if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)Array.isArray(t[i])?J(e,r,t[i],n):t[i]&&U(e,r,t[i],n)}function Q(e,r,t){if(void 0!==t)for(var n in t)r.has(n)||(e.push(N(n)),r.add(n))}function B(e,r,t,n){Q(e,r,n.base.get(t));for(var i=0,a=S.optimisticOrder.length;i<a;i++){var o=n.optimistic[S.optimisticOrder[i]];void 0!==o&&Q(e,r,o.get(t))}}function V(e,r){"__typename"!==r&&(e!==S.queryRootKey?T[e]=!0:void 0!==r&&(T[E(e,r)]=!0))}function G(e,r){!F&&S.storage&&S.persist.add(function(e,r){return e.replace(/\./g,"%2e")+"."+r}(e,r))}function z(e,r){return V(e,r),j(S.records,e,r)}function X(e,r){return V(e,r),j(S.links,e,r)}function H(e,r,t){V(e,r),G(e,r),R(S.records,e,r,t)}function W(e,r,t){var n,i,a,o=S;M?(n=o.refLock[M]||(o.refLock[M]=K()),i=o.links.optimistic[M]):(n=o.refCount,i=o.links.base,a=o.gc);var u=i&&i.get(e),s=u&&u[r];V(e,r),G(e,r),R(o.links,e,r,t),J(a,n,s,-1),J(a,n,t,1)}function Y(e,r){var t=e.optimisticOrder.indexOf(r);-1===t?e.optimisticOrder.unshift(r):e.commutativeKeys.has(r)||(Z(e,r),e.optimisticOrder.splice(t,1),e.optimisticOrder.unshift(r)),e.commutativeKeys.add(r)}function Z(e,r){e.refLock[r]&&(delete e.refLock[r],delete e.records.optimistic[r],delete e.links.optimistic[r])}function $(e,r){var t=e.optimisticOrder.indexOf(r);t>-1&&(e.optimisticOrder.splice(t,1),e.commutativeKeys.delete(r)),Z(e,r)}function ee(e){var r=T;T=K();var t=S.links.optimistic[e];t&&t.forEach((function(e,r){for(var t in e)W(r,t,e[t])}));var n=S.records.optimistic[e];n&&n.forEach((function(e,r){for(var t in e)H(r,t,e[t])})),T=r,$(S,e)}function re(e){var r=S.links,t=S.records,n=[],i=new Set;return V(e),B(n,i,e,r),B(n,i,e,t),n}var te={current:null};function ne(e){return e.__internal.path.length>0&&e.__internal.errorMap?e.__internal.errorMap[e.__internal.path.join(".")]:void 0}function ie(e,r,t,n,i,a,o){var u={store:e,variables:r,fragments:t,parent:{__typename:n},parentTypeName:n,parentKey:i,parentFieldKey:"",fieldName:"",error:void 0,partial:!1,optimistic:!!a,__internal:{path:[],errorMap:void 0}};if(o&&o.graphQLErrors)for(var s=0;s<o.graphQLErrors.length;s++){var f=o.graphQLErrors[s];f.path&&f.path.length&&(u.__internal.errorMap||(u.__internal.errorMap=Object.create(null)),u.__internal.errorMap[f.path.join(".")]=f)}return u}function ae(e,r,t,n,i,a){te.current=e,e.parent=r,e.parentTypeName=t,e.parentKey=n,e.parentFieldKey=i,e.fieldName=a,e.error=ne(e)}function oe(e,r,t,n){if(!r)return!1;var a=s(e);return!a||r===a||!u(e).some((function(e){if(!f(e))return!1;var r=w(i(e),c(e,n));return!function(e,r){return void 0!==z(e,r)||void 0!==X(e,r)}(t,r)}))}function ue(e,r,t,n){var a,o=0;return function(){if(void 0!==a){var s=a();if(void 0!==s)return s;a=void 0}for(;o<t.length;){var c=t[o++];if(h(c,n.variables)){if(f(c))return c;var p=l(c)?c:n.fragments[i(c)];if(void 0!==p&&(n.store.schema?O(n.store.schema,p,e):oe(p,e,r,n.variables)))return(a=ue(e,r,u(p),n))()}}}}function se(e){return void 0===e?null:e}function fe(e,r){if(null==r)return r;if(Array.isArray(r)){for(var t=new Array(r.length),n=0,i=t.length;n<i;n++)t[n]=fe(e,r[n]);return t}return e.keyOfEntity(r)}function le(e,r,t,n,i){D("write",e.data,i||null);var a=ce(e,r,t,n);return I(),a}function ce(e,r,t,n,i){var a=y(r.query),o={data:t,dependencies:P()},s=e.rootFields[a.operation];return pe(ie(e,d(a,r.variables),m(r.query),s,s,!!i,n),s,u(a),t),o}function pe(e,r,t,n){var a=r===e.store.rootFields.query,s=!a&&!!e.store.rootNames[r],f=s||a?r:n.__typename;if(f){s||a||!r||H(r,"__typename",f);for(var l,p=ue(f,r||f,t,e);l=p();){var d=i(l),v=c(l,e.variables),y=w(d,v),m=o(l),h=n[m];if("__typename"!==d){if(e.__internal.path.push(m),e.optimistic&&s){var k=e.store.optimisticMutations[d];if(!k)continue;ae(e,n,f,f,y,d),h=n[m]=se(k(v||{},e.store,e))}if(l.selectionSet)if(r&&!s){var g=E(r,y);W(r||f,y,de(e,u(l),se(h),g))}else de(e,u(l),se(h));else r&&!s&&H(r||f,y,null===h&&ne(e)?void 0:h);if(s){var _=e.store.updates[f][d];_&&(ae(e,n,f,f,E(f,y),d),n[d]=h,_(n,v||{},e.store,e))}e.__internal.path.pop()}}}}function de(e,r,t,n){if(Array.isArray(t)){for(var i=new Array(t.length),a=0,o=t.length;a<o;a++){e.__internal.path.push(a);var u=n?E(n,""+a):void 0,s=de(e,r,t[a],u);i[a]=s,e.__internal.path.pop()}return i}if(null===t)return ne(e)?void 0:null;var f=e.store.keyOfEntity(t)||n;return pe(e,f,r,t),f||null}function ve(e){var r,t;this.keyOfField=w,this.resolveFieldByKey=this.resolve,e||(e={}),this.resolvers=e.resolvers||{},this.optimisticMutations=e.optimistic||{},this.keys=e.keys||{};var n,i="Query",a="Mutation",o="Subscription";if(e.schema){var u=function(e){var r=e.__schema,t={};function n(e){for(var r={},t=0;t<e.length;t++)r[e[t].name]=e[t];return r}function i(e){switch(e.kind){case"OBJECT":case"INTERFACE":return{name:e.name,kind:e.kind,interfaces:n(e.interfaces||[]),fields:n(e.fields.map((function(e){return{name:e.name,type:e.type,args:n(e.args)}})))};case"UNION":return{name:e.name,kind:e.kind,types:n(e.possibleTypes||[])}}}var a={query:r.queryType?r.queryType.name:null,mutation:r.mutationType?r.mutationType.name:null,subscription:r.subscriptionType?r.subscriptionType.name:null,types:void 0,isSubType:function(e,r){var n=t[e],i=t[r];return!!(n&&i&&("UNION"===n.kind?n.types[r]:"OBJECT"!==n.kind&&"OBJECT"===i.kind?i.interfaces[e]:e===r))}};if(r.types){a.types=t;for(var o=0;o<r.types.length;o++){var u=r.types[o];if(u&&u.name){var s=i(u);s&&(t[u.name]=s)}}}return a}(e.schema);i=u.query||i,a=u.mutation||a,o=u.subscription||o,u.types&&(this.schema=u)}this.updates=((r={})[a]=e.updates&&e.updates.Mutation||{},r[o]=e.updates&&e.updates.Subscription||{},r),this.rootFields={query:i,mutation:a,subscription:o},this.rootNames=((t={})[i]="query",t[a]="mutation",t[o]="subscription",t),this.data=(n=i,{defer:!1,gc:new Set,persist:new Set,queryRootKey:n,refCount:K(),refLock:K(),links:L(),records:L(),commutativeKeys:new Set,optimisticOrder:[],storage:null})}function ye(e,r,t,n,i){D("read",e.data,t&&i||null);var a=me(e,r,t,n);return I(),a}function me(e,r,t,n){var i=y(r.query),a=e.rootFields[i.operation],o=u(i),s=ie(e,d(i,r.variables),m(r.query),a,a,!1,n),f=a!==s.store.rootFields.query?he(s,a,o,t||{}):ge(s,a,o,{});return{dependencies:P(),partial:s.partial||!f,data:f||null}}function he(e,r,t,n){var i=e.store.rootNames[r]?r:n.__typename;if("string"!=typeof i)return n;for(var a,s=ue(r,r,t,e),f={__typename:i};a=s();){var l=o(a),c=n[l];if(e.__internal.path.push(l),a.selectionSet&&null!==c){var p=se(c);f[l]=ke(e,u(a),p)}else f[l]=c;e.__internal.path.pop()}return f}function ke(e,r,t){if(Array.isArray(t)){for(var n=new Array(t.length),i=0,a=t.length;i<a;i++)e.__internal.path.push(i),n[i]=ke(e,r,t[i]),e.__internal.path.pop();return n}if(null===t)return null;var o=e.store.keyOfEntity(t);if(null!==o){var u=ge(e,o,r,{});return void 0===u?null:u}return he(e,t.__typename,r,t)}function ge(e,r,t,n,a){var s=e.store,f=r===s.rootFields.query,l=a&&s.keyOfEntity(a)||r,p=f?r:z(l,"__typename")||a&&a.__typename;if("string"==typeof p&&(!a||p===a.__typename)){for(var d,y=ue(p,l,t,e),m=!1,h=!1;void 0!==(d=y());){var k=i(d),_=c(d,e.variables),O=o(d),b=w(k,_),q=E(l,b),N=z(l,b),x=a?a[k]:void 0,K=s.resolvers[p];if("__typename"!==k){var S=void 0;if(e.__internal.path.push(O),void 0!==x&&void 0===d.selectionSet)S=x;else if("read"===(v(null!==A,"",2),A)&&K&&"function"==typeof K[k]){if(ae(e,n,p,l,q,k),void 0!==N&&(n[O]=N),S=K[k](n,_||{},s,e),d.selectionSet&&(S=_e(e,p,k,q,u(d),n[O],S)),s.schema&&null===S&&!g(s.schema,p,k))return}else if(d.selectionSet)if(void 0!==x)S=_e(e,p,k,q,u(d),n[O],x);else{var T=X(l,b);void 0!==T?S=Oe(e,T,p,k,u(d),n[O]):"object"==typeof N&&null!==N&&(S=N)}else S=N;if(void 0===S&&ne(e)&&(h=!0,S=null),e.__internal.path.pop(),void 0===S&&s.schema&&g(s.schema,p,k))h=!0,n[O]=null;else{if(void 0===S)return;m=!0,n[O]=S}}else n[O]=p}return h&&(e.partial=!0),f&&h&&!m?void 0:n}}function _e(e,r,t,n,i,a,o){if(Array.isArray(o)){for(var u=e.store,s=!!u.schema&&_(u.schema,r,t),f=new Array(o.length),l=0,c=o.length;l<c;l++){e.__internal.path.push(l);var p=_e(e,r,t,E(n,""+l),i,null!=a?a[l]:void 0,o[l]);if(e.__internal.path.pop(),void 0===p&&!s)return;f[l]=void 0!==p?p:null}return f}if(null==o)return o;if(null===a)return null;if("string"==typeof(v=o)||"object"==typeof v&&"string"==typeof v.__typename){var d=a||{};return"string"==typeof o?ge(e,o,i,d):ge(e,n,i,d,o)}var v}function Oe(e,r,t,n,i,a){if(Array.isArray(r)){for(var o=e.store,u=!!o.schema&&_(o.schema,t,n),s=new Array(r.length),f=0,l=r.length;f<l;f++){e.__internal.path.push(f);var c=Oe(e,r[f],t,n,i,null!=a?a[f]:void 0);if(e.__internal.path.pop(),void 0===c&&!u)return;s[f]=void 0!==c?c:null}return s}return null===r||null===a?null:ge(e,r,i,a||{})}function be(r,n){return e.makeOperation(r.kind,r,t._extends({},r.context,{meta:t._extends({},r.context.meta,{cacheOutcome:n})}))}function qe(r,n){return e.makeOperation(r.kind,r,t._extends({},r.context,{requestPolicy:n}))}function we(t){return function(n){var i,a=n.forward,o=n.client,u=new ve(t);t&&t.storage&&(i=t.storage.readData().then((function(e){!function(e,r,t){for(var n in D("write",e,null),t){var i=t[n];if(void 0!==i){var a=x(n),o=a.entityKey,u=a.fieldKey;":"===i[0]?W(o,u,JSON.parse(i.slice(1))):H(o,u,JSON.parse(i))}}I(),e.storage=r}(u.data,t.storage,e)})));var s=new Map,f=[],l=new Map,c=K(),d=new Set,v=K();function m(e){for(var r in e)if(c[r])return!0;return!1}function h(e,r){if(r)for(var t in r){var n=v[t];if(n){v[t]=[];for(var i=0,a=n.length;i<a;i++)e.add(n[i])}}}function k(e,r){r.forEach((function(r){if(r!==e.key){var t=l.get(r);if(t){l.delete(r);var n="cache-first";d.has(r)&&(d.delete(r),n="cache-and-network"),o.reexecuteOperation(qe(t,n))}}}))}function g(r){if("query"===r.kind)Y(u.data,r.key);else if("teardown"===r.kind)l.delete(r.key),C(u.data,r.key);else if("mutation"===r.kind&&"network-only"!==r.context.requestPolicy){var t=function(e,r,t){D("write",e.data,t,!0);var n=ce(e,r,{},void 0,!0);return I(),n}(u,r,r.key).dependencies;if(!function(e){for(var r in e)return!1;return!0}(t)){for(var n in t)c[n]=!0;s.set(r.key,t);var i=new Set;h(i,t),k(r,i)}}return e.makeOperation(r.kind,{key:r.key,query:e.formatDocument(r.query),variables:r.variables?p(y(r.query),r.variables):r.variables},r.context)}function _(e,r){for(var t in r)(v[t]||(v[t]=[])).push(e.key),l.set(e.key,e)}function O(e){var r=ye(u,e),t=r.data?r.partial?"partial":"hit":"miss";return _(e,r.dependencies),{outcome:t,operation:e,data:r.data,dependencies:r.dependencies}}function b(e,r){var t,n=e.operation,i=e.error,a=e.extensions,o=n.key;if("mutation"===n.kind?(h(r,s.get(o)),s.delete(o)):Y(u.data,n.key),e.data){h(r,le(u,n,e.data,e.error,o).dependencies);var f=ye(u,n,e.data,e.error,o);e.data=f.data,"query"===n.kind&&h(r,t=f.dependencies)}else C(u.data,n.key);return t&&_(e.operation,t),{data:e.data,error:i,extensions:a,operation:n}}return function(e){var t=r.share(e),n=i?r.share(r.merge([r.mergeMap(r.fromArray)(r.buffer(r.fromPromise(i))(t)),r.skipUntil(r.fromPromise(i))(t)])):t,l=r.share(r.map(O)(r.filter((function(e){return"query"===e.kind&&"network-only"!==e.context.requestPolicy}))(n))),p=r.filter((function(e){return"query"!==e.kind||"network-only"===e.context.requestPolicy}))(n),v=r.map((function(e){return be(e.operation,"miss")}))(r.filter((function(e){return"miss"===e.outcome&&"cache-only"!==e.operation.context.requestPolicy&&!m(e.dependencies)}))(l)),y=r.map((function(e){var r=e.operation,t=e.outcome,n=e.dependencies,i={operation:be(r,t),data:e.data,error:e.error,extensions:e.extensions};return("cache-and-network"===r.context.requestPolicy||"cache-first"===r.context.requestPolicy&&"partial"===t)&&(i.stale=!0,m(n)?"cache-and-network"===r.context.requestPolicy&&d.add(r.key):o.reexecuteOperation(qe(r,"network-only"))),i}))(r.filter((function(e){return"miss"!==e.outcome||"cache-only"===e.operation.context.requestPolicy}))(l)),h=r.share(a(r.map(g)(r.merge([p,v])))),_=r.map((function(e){var r=new Set,t=b(e,r);return k(e.operation,r),t}))(r.filter((function(e){return!s.has(e.operation.key)}))(h)),q=r.mergeMap((function(e){if(f.push(e)<s.size)return r.empty;for(var t=0;t<f.length;t++)Y(u.data,f[t].operation.key);for(var n in c)delete c[n];for(var i,a=[],o=new Set;i=f.shift();)a.push(b(i,o));return k(e.operation,o),r.fromArray(a)}))(r.filter((function(e){return s.has(e.operation.key)}))(h));return r.merge([_,q,y])}}}function Ee(e){return e&&e.networkError&&!e.response&&("undefined"!=typeof navigator&&!1===navigator.onLine||/request failed|failed to fetch|network\s?error/i.test(e.networkError.message))}ve.prototype.keyOfEntity=function(e){return te.current&&e===te.current.parent?te.current.parentKey:null==e||"string"==typeof e?e||null:e.__typename?this.rootNames[e.__typename]?e.__typename:(this.keys[e.__typename]?r=this.keys[e.__typename](e):null!=e.id?r=""+e.id:null!=e._id&&(r=""+e._id),r?e.__typename+":"+r:null):null;var r},ve.prototype.resolve=function(e,r,t){var n=w(r,t),i=this.keyOfEntity(e);if(!i)return null;var a=z(i,n);return void 0!==a?a:X(i,n)||null},ve.prototype.invalidate=function(e,r,t){var n=this.keyOfEntity(e);v(n,"",19),function(e,r,t){for(var n=r?[{fieldKey:w(r,t)}]:re(e),i=0,a=n.length;i<a;i++){var o=n[i].fieldKey;void 0!==X(e,o)?W(e,o,void 0):H(e,o,void 0)}}(n,r,t)},ve.prototype.inspectFields=function(e){var r=this.keyOfEntity(e);return r?re(r):[]},ve.prototype.updateQuery=function(r,t){var n=e.createRequest(r.query,r.variables);n.query=e.formatDocument(n.query);var i=t(this.readQuery(n));null!==i&&ce(this,n,i)},ve.prototype.readQuery=function(r){var t=e.createRequest(r.query,r.variables);return t.query=e.formatDocument(t.query),me(this,t).data},ve.prototype.readFragment=function(r,t,n){return function(e,r,t,n){var i=m(r),o=i[Object.keys(i)[0]];if(!o)return null;var s=a(o);"string"==typeof t||t.__typename||(t.__typename=s);var f=e.keyOfEntity(t);return f&&ge(ie(e,n||{},i,s,f),f,u(o),{})||null}(this,e.formatDocument(r),t,n)},ve.prototype.writeFragment=function(r,n,i){!function(e,r,n,i){var o=m(r),s=o[Object.keys(o)[0]];if(s){var f=a(s),l=t._extends({},{__typename:f},n),c=e.keyOfEntity(l);c&&pe(ie(e,i||{},o,f,c,void 0),c,u(s),l)}}(this,e.formatDocument(r),n,i)},ve.prototype.link=function(e,r,t,n){var i=void 0!==n?t:null,a=void 0!==n?n:t,o=fe(this,e);"string"==typeof o&&W(o,w(r,i),fe(this,a))},exports.Store=ve,exports.cacheExchange=we,exports.offlineExchange=function(t){return function(a){var o=t.storage;if(o&&o.onOnline&&o.readMetadata&&o.writeMetadata){var s=a.forward,c=a.client,p=a.dispatchDebug,d=r.makeSubject(),v=d.source,k=d.next,g=t.optimistic||{},_=[],O=function(){for(var e=[],r=0;r<_.length;r++){var t=_[r];"mutation"===t.kind&&e.push({query:n.print(t.query),variables:t.variables})}o.writeMetadata(e)},b=!1,q=function(){if(!b){b=!0;for(var r=0;r<_.length;r++){var t=_[r];"mutation"===t.kind&&k(e.makeOperation("teardown",t))}for(var n=0;n<_.length;n++)c.reexecuteOperation(_[n]);_.length=0,b=!1,O()}};o.onOnline(q),o.readMetadata().then((function(r){if(r){for(var t=0;t<r.length;t++)_.push(c.createRequestOperation("mutation",e.createRequest(r[t].query,r[t].variables)));q()}}));var w=we(t)({client:c,dispatchDebug:p,forward:function(e){return r.filter((function(e){return"mutation"!==e.operation.kind||!Ee(e.error)||!function(e,r){for(var t,n=r.variables||K(),a=m(r.query),o=[].concat(u(y(r.query)));t=o.pop();)if(h(t,n))if(f(t)){if(e[i(t)])return!0}else{var s=l(t)?t:a[i(t)];s&&o.push.apply(o,u(s))}return!1}(g,e.operation)||(_.push(e.operation),O(),!1)}))(s(e))}});return function(e){var t=r.share(e),n=r.merge([v,t]);return r.filter((function(e){return"query"!==e.operation.kind||!Ee(e.error)||(k(qe(e.operation,"cache-only")),_.push(e.operation),!1)}))(w(n))}}return we(t)(a)}},exports.query=ye,exports.write=le;
//# sourceMappingURL=urql-exchange-graphcache.min.js.map
